// Define sensor pins (Adjust based on actual sensor connections)
const int albuminuria_sensorPin = A0;
const int creatinine_sensorPin = A1;
const int uric_acid_sensorPin = A2;

void setup() {
    Serial.begin(9600);  // Initialize serial communication
}

void loop() {
    // Read raw analog sensor values (0 - 1023)
    int raw_albuminuria = analogRead(albuminuria_sensorPin);
    int raw_creatinine = analogRead(creatinine_sensorPin);
    int raw_uric_acid = analogRead(uric_acid_sensorPin);

    // Convert raw sensor values to meaningful units
    float albuminuria = (raw_albuminuria / 1023.0) * 300;  // Example: Scale to 0 - 300 mg/L (Adjust as needed)
    float creatinine = (raw_creatinine / 1023.0) * 5;      // Example: Scale to 0 - 5 mg/dL
    float uric_acid = (raw_uric_acid / 1023.0) * 12;       // Example: Scale to 0 - 12 mg/dL

    // Check for invalid sensor readings
    if (albuminuria < 0 || albuminuria > 300) albuminuria = -1;  // -1 indicates an error
    if (creatinine < 0 || creatinine > 5) creatinine = -1;
    if (uric_acid < 0 || uric_acid > 12) uric_acid = -1;

    // Format the data in JSON-like structure for easy parsing
    Serial.print("{ \"albuminuria\": ");
    Serial.print(albuminuria);
    Serial.print(", \"creatinine\": ");
    Serial.print(creatinine);
    Serial.print(", \"uric_acid\": ");
    Serial.print(uric_acid);
    Serial.println(" }");

    delay(5000);  // Wait 5 seconds before sending the next reading
}
